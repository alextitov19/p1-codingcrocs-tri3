<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <script src="https://cdn.jsdelivr.net/npm/chart.js@2.9.4/dist/Chart.min.js"></script>
</head>
<body style="background-color:LightBlue;">

<h1 style="font-family:'Courier New', monospace; background-color:LightSkyBlue">Merge Sort & Time Chart</h1>
<p style="font-family:'Courier New', monospace">(Using Recursion)</p>

<h3 style="font-family:'Courier New', monospace">Input length to create random array of integers</h3>
<form th:action="@{/miniLab/Jett/mergesort}">
    <label style="font-family:'Courier New', monospace">Array length: </label>
    <input style="font-family:'Courier New', monospace" type="number" min="1" max="100" th:name="length" th:value="${length}">
    <input style="font-family:'Courier New', monospace" type="submit">
</form>

<p style="font-family:'Courier New', monospace" th:text="${unsorted}"></p>
<p style="font-family:'Courier New', monospace" th:text="${sorted}"></p>

<h3 style="font-family:'Courier New', monospace">Merge Sort Time Chart</h3>
<form th:action="@{/miniLab/Jett/mergesort}">
    <label style="font-family:'Courier New', monospace">Max Array Length(min 100): </label>
    <input style="font-family:'Courier New', monospace" type="number" min="100", max="500" th:name="iterations" th:value="${iterations}">
    <input style="font-family:'Courier New', monospace" type="submit">
</form>

<canvas id="line-chart" width="100px"></canvas>

<script th:inline="javascript">
       var list = /*[[${iterationData}]]*/ [];
       console.log(list);

       if(list !== null){

           const labels = Array.from(Array(list.length).keys());

       new Chart(document.getElementById("line-chart"), {
         type: 'line',
         data: {
           labels: labels,
           datasets: [{
               data: list,
               label: "Merge Sort Time",
               borderColor: "#000000",
               fill: false
             }
           ]
         },
         options: {
           title: {
             display: true,
             text: 'Time(ns) of merge sort of inputted array'
           }
         }
       });

       }

   </script>

<style>
p {text-align: center;}
form {text-align: center;}
h1 {text-align: center;}
h3 {text-align: center;}

       #line-graph{
           width:50% !important;
       }

       .java-code{
           width: 50% !important;
           position: absolute;
           left: 50%;
           transform: translate(-50%, 0%)
       }

       .java-code h1{
           text-align: center;
       }

</style>
</body>
</html>
